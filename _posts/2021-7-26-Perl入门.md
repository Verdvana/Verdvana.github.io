---
layout: post
title:  "Perl入门"
date:   2021-7-26 13:15:10 +0700
tags:
  - Others
---


----

## 1 前言

&#160; &#160; &#160; &#160; 工作需要，整个Perl玩玩。

----

## 2 开发习惯

### 2.1 内建警告信息

&#160; &#160; &#160; &#160; 当程序内有可疑的语句时，内建警告信息可以发出警告提示。添加内建警告信息有四种方式：
* 在运行时加上“-w”命令行，例如：
    ```sh
    $perl -w hello.pl
    ```
* 在程序中指定解释器路径后加上“-w”：
    ```perl
    #! /usr/bin/perl -w
    ```
* 对于perl 5.6以及更新的版本，可以在代码中加入“use warnings”，同样作用于整个程序：
    ```perl
    #! /usr/bin/perl
    use warnings
    ```
* 只对一段代码内建警告信息，可以在代码前后加入以下指令：
    ```perl
    ……
    use warnings
    ……  # 代码段
    no warnings
     ```

&#160; &#160; &#160; &#160; 如果出现警告，且想看更详细的问题描述，则在程序中加入：

```perl
use diagnostics;
```

&#160; &#160; &#160; &#160; 在代码中加入如下指令，会强制终止程序执行，直到warning被解决：

```perl
use strict;
```

&#160; &#160; &#160; &#160; 它有如下作用：
* 避免错误拼写；
* 限定变量范围。

---

## 3 数据类型

### 3.1 标量

&#160; &#160; &#160; &#160; 标量（Scalar）包括数字标量和字符串标量。


* 标量可以在任意位置随时声明使用；
* 标量名可以是字母、数字、下划线，区分大小写；
* 标量的作用域：
    * 包变量：模块情况下为包变量，是包内的全局变量，在整个包及下面的子函数中都可用；
    * 私有变量：
        * my变量：只在本层模块起作用；
        * local变量：在本层和本层下层的函数都可以看到的变量。


&#160; &#160; &#160; &#160; 数字标量：
* 全部为双精度浮点数，有效值为10<sup>-100</sup>至10<sup>100</sup>；
* 普通表示法：3.1415926，-50；
* 科学计数法：2.18e22，5.16E-10；
* 特殊数字：
    * 较长的、不带小数点的数字，可用下划线分开（好像类似Verilog）：3141592639 → 31_4159_2639;
    * 非十进制：
        * 八进制：以0开头，例如0377表示十进制的255；
        * 十六进制：以0x开头，例如0xFF表示十进制的255；
        * 二进制： 以0b开头例如0b1111_1111表示十进制的255；
        * 同样支持下划线隔开。

&#160; &#160; &#160; &#160; 字符串标量：
* 标量值为字符串，由引号标识；
* 字符串由可输出的字母、数字和标点符号组成：$data="hello,world"；
* 字符串的引号既可以是双引号也可以是单引号，**转义字符只在双引号中有效**；

### 3.2 数组

&#160; &#160; &#160; &#160; 数组是标量数据的有序列表，是多个标量数据的一种集合。

* 可以包含任意多个元素，从0到全部占满内存；
* 以“@”符号作为标识；
* 同一个数组中的元素可以是数字也可以是字符串，也可以**既有数字也有字符串**：
    * (1,2,3)：包含1，2，3三个数的列表；
    * (1,2,3,)：包含1，2，3三个数的列表，逗号被省略；
    * ("test",4.5)：包含一个字符和一个数字；
    * ()：空列表，零个元素。
    * (1..5)：包含1，2，3，4，5，五个元素；
    * (5..1)：不能是降序，所以是空列表；
    * (0,2..6,10)：包含0，2，3，4，5，6，10七个元素；
    * ($m..$n)：如果$m小于$n，则为由$m到$n的数字列表，否则为空列表，
    * qw(str1 str2 str3)：纯字符串列表，空格、制表符、换行都可以作为间隔符，等同于("str1","str2","str3")，也可用其他任何标点符号作为界定符代替括号，例如qw!str1 str2 str3!。


&#160; &#160; &#160; &#160; 特殊的数组赋值方法：
* pop：取出数组中最后一个元素，同时返回该元素值：
    * @array=(5..9);$test=pop(@array)：@array为(5,6,7,8)，$test为9；
* push：添加一个元素（或一串元素）到数组尾端：
    * push(@array,8)：@array的值为(...,8)；
* shift：取出数组最左边的元素，同时返回该元素值（与pop类似）；
* unshift：添加一个元素（或一串元素）到数组的始端（与push类似）。

&#160; &#160; &#160; &#160; 数组元素的访问：
* 通过索引对数组元素进行访问：
    * 索引值从0开始：$array[0]；
    * 索引值超出元素数量，返回空元素。
* 特殊索引值：
    * $#<数组名>：代表最后元素的**索引值**；
    * 负数索引：$array[-1]代表最后一个**元素**。

### 3.3 引用（指针）

&#160; &#160; &#160; &#160; 变量的$符号前加“\”，表示该变量对应的值在内存当中的地址。

&#160; &#160; &#160; &#160; 引用方法：
* 软引用：
    * 类似于软链接，存储一个变量的名字（替代）:
        * 如果：$scalar = "Hello"; $refer = "scalar";
        * 那么：$$refer的实质即$scalar；
* 硬引用：
    * 类似于硬链接，存储地址：
        * 标量引用：$scalar = \$foo；
        * 常量引用：$constr = \1234.55；
        * 数组引用：$array  = \@arr；
        * 匿名数组引用：$arr = [1,2,3,4]；
    * 解引用：
        * ${$scalar}，简写为：$$scalar；
        * ${$constr}，简写为：$$constr；
        * ${$array}[0]；
        * ${$scalar}[0]。

----

## 4 数据运算

### 4.1 运算符

&#160; &#160; &#160; &#160; Perl的运算符包括算数、比较、逻辑、位、赋值和其他运算符。

&#160; &#160; &#160; &#160; 算术运算时，标量从左往右第一个非数字的值以及后面的值会被抛弃掉。

&#160; &#160; &#160; &#160; 数字比较运算符的操作对象是**数字值或数字变量**。“<=>”用于比较，返回值为“1，0，-1”。

&#160; &#160; &#160; &#160; 字符串比较操作符的操作对象是**字符串或字符串变量**，基于ASCII码的比较：

| 操作符 | 含义 |
| --- | --- |
| gt | 大于 |
| ge | 大于等于 |
| lt | 小于 |
| le | 小于等于 |
| eq | 等于 |
| ne | 不等于 |
| cmp | 比较，返回1，0，-1 |




### 4.2 运算符优先级

### 4.3








----
&#160; &#160; &#160; &#160; 告辞。