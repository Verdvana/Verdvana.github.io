---
layout: post
title:  "数字IC设计基础"
date:   2020-1-22 16:57:10 +0700
tags:
  - Digital IC Design
---

-------

### 1 前言 

&#160; &#160; &#160; &#160; 

----

### 2 数字IC设计流程

#### 2.1 集成电路产业链：

| 集成电路设计公司（IC Design House） | 晶圆厂（fab） | 封测厂（Packaging&Testing） | 组装厂（Assembing） | 成品整机&#160; &#160; &#160; &#160;   |
|---|---|---|---|---|
| 算法，架构，前端，后端，仿真，流程，IP…… | &#160; &#160; 提供设计资源与技术支持，晶圆制造 | 晶圆切割，载板采购，硅片贴装，注塑，芯片成型，测试，包装…… | &#160; &#160; 辅料采购，PCBA焊接，测试，整机组装，整机测试，老化测试…… | &#160; &#160; &#160; &#160; &#160; &#160; &#160;  | 
| APPLE，高通，华为…… | 台积电，三星，中芯国际…… | 富士通，日月光…… |  | &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;  |



&#160; &#160; &#160; &#160; 国内著名的IC设计厂商：

![3](https://raw.githubusercontent.com/Verdvana/Verdvana.github.io/master/_posts/%E6%95%B0%E5%AD%97IC%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/3.jpg)


#### 2.2 常见SoC芯片架构图

![1](https://raw.githubusercontent.com/Verdvana/Verdvana.github.io/master/_posts/%E6%95%B0%E5%AD%97IC%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/1.jpg)

&#160; &#160; &#160; &#160; 其中：

* CPU、DMA、还有一些通信接口等等做过单片机或者嵌入式的都知道；
* Ext SRAM：接口IP，外部可以连接SRAM存储器，用于程序的运行；
* Nand Flash Controller：接口IP，外接Nand Flash；
* SD Controller：接口IP，外接SD卡；
* SD Host：master接口，外接SD slave设备；
* AHB Pflash：片内存储体，Programming Flash存储体，类似PC系统盘；
* AHB SRAM：片内运存，类似PC内存；
* AHB-Brige-APB：AMBA2.0总线协议；
* System Controller：用于产生系统时钟和复位信号。


#### 2.3 数字IC设计流程

| 确定项目需求 | 系统级设计 | 前端设计 | 后端设计 |
|---|---|---|---|
| 指定芯片具体指标&#160; &#160;  | &#160; &#160; 用系统建模语言对各个模块描述&#160; &#160;  | &#160; &#160; RTL设计、仿真、硬件原型验证、电路综合&#160; &#160;  | &#160; &#160; 版图设计、物理验证、后仿真等  |

&#160; &#160; &#160; &#160; 具体流程：

![4](https://raw.githubusercontent.com/Verdvana/Verdvana.github.io/master/_posts/%E6%95%B0%E5%AD%97IC%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/4.jpg)

#### 2.4 数字IC设计指标

| 物理指标 | 性能指标 | 功能指标 |
|---|---|---|
| 制作工艺、裸片面积、封装&#160; &#160;&#160; &#160;   | 速度、功耗&#160; &#160;&#160; &#160;   | 接口描述、接口定义 |

#### 2.4 数字IC前端设计流程

![2](https://raw.githubusercontent.com/Verdvana/Verdvana.github.io/master/_posts/%E6%95%B0%E5%AD%97IC%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/2.jpg)


----

### 3 数字电路基础

#### 3.1 逻辑门

&#160; &#160; &#160; &#160; 逻辑门国外流行符号：

![7](https://raw.githubusercontent.com/Verdvana/Verdvana.github.io/master/_posts/%E6%95%B0%E5%AD%97IC%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/7.jpg)

#### 3.2 CMOS器件

&#160; &#160; &#160; &#160; CMOS器件的符号，右邊是简化图：

![6](https://raw.githubusercontent.com/Verdvana/Verdvana.github.io/master/_posts/%E6%95%B0%E5%AD%97IC%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/6.jpg)


&#160; &#160; &#160; &#160; 其中PMOS的G极为低时导通，NMOS相反。PMOS衬底接电源，NMOS衬底接地。

&#160; &#160; &#160; &#160; 使用MOS管搭建反相器：

![8](https://raw.githubusercontent.com/Verdvana/Verdvana.github.io/master/_posts/%E6%95%B0%E5%AD%97IC%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/8.jpg)

&#160; &#160; &#160; &#160; 使用MOS管搭建三态门：

![9](https://raw.githubusercontent.com/Verdvana/Verdvana.github.io/master/_posts/%E6%95%B0%E5%AD%97IC%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/9.jpg)

&#160; &#160; &#160; &#160; 将逻辑表达式转变为MOS电路的思路就是将有或的表达式都变成与和非，然后通过MOS与非门和MOS或非门以及MOS非门搭建出来。


&#160; &#160; &#160; &#160; 例如：

Y = A · B + C

&#160; &#160; &#160; &#160; 可以写成：

Y = ( (A · B)' · C' )'

&#160; &#160; &#160; &#160; (A · B)'用一個二輸入的与非门实现，C'用一个非门实现，最后把这两个结果用一个二输入的与非门得到Y。

&#160; &#160; &#160; &#160; 而且与非门比或非门速度快。因为电子迁移率是空穴的2.5倍，而PMOS采用空穴导电，NMOS采用电子导电，所以相同尺寸下，PMOS充电时间长，比较最长路径的延时，与非门是两个PMOS并联，或非门是两个NMOS并联，因此与非门的速度更快。

&#160; &#160; &#160; &#160; 另外，**PMOS传输强1弱0，NMOS传输强0弱1**，所以PMOS要负责输出1，NMOS负责输出0。如果反过来的话输出电压不能达到满摆幅，而且会向后影响，最终无法区分0或1。


#### 3.3 数字电路功耗

&#160; &#160; &#160; &#160; 在RTL编码中考虑的功耗：

![5](https://raw.githubusercontent.com/Verdvana/Verdvana.github.io/master/_posts/%E6%95%B0%E5%AD%97IC%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/5.jpg)

&#160; &#160; &#160; &#160; 其中：

* Pd：电路个点的功耗总和。
* a：电路翻转次数；
* f：电路的工作频率；
* C：该点的电容；
* V：电压值。

&#160; &#160; &#160; &#160; 其中负载电容和和工作电压是RTL设计无法改变的因素，在RTL级主要考虑尽量降低电路的翻转频率。

&#160; &#160; &#160; &#160; 主要措施：

* 门控时钟；
* 增加使能信号，是的部分电路只有在需要工作时才工作；
* 对芯片的各个模块进行控制，在需要工作时才工作；
* 除了有用信号和时钟翻转会消耗功耗，组合逻辑产生的毛刺也会大量消耗功耗。但是，毛刺在设计中无法避免，因此只有尽量减少毛刺在电路中的传播，才可以减少功耗。即在设计中，尽量把产生毛刺的电路放在传播路径的最后，另外，可以使用一些减少毛刺的技术。
* 对于有限状态机，可以通过低功耗编码（减少每次翻转的位数）来减少电路的翻转。

  




----
&#160; &#160; &#160; &#160; 告辞

